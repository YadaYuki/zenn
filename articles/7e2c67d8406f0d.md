---
title: "Go製の全文検索エンジン「Omochi」を作った."
emoji: "😊"
type: "tech" # tech: 技術記事 / idea: アイデア
topics: ["Go","個人開発","情報検索"]
published: false
---

# 1.はじめに

膨大な量の電子データから目的となるデータを高速に取得・抽出する情報検索。その技術は広く普及し、多くの人々が、その恩恵を受けています。GoogleやBingのようなWeb検索がその代表例ですが、物件検索や論文検索、メール検索などその応用は様々です。
		
Webサービスに対する検索機能の導入では、Elasticsearchをはじめとする既存のツールを利用するのが一般的です。**しかし、その内部はどうなっているのか**。具体的には、

- 膨大なデータから検索ワードが含まれる文書を、どのようにして高速抽出しているのか。
- 検索結果となる文書群をどのようにして並び替えているのか(検索ワードとの関連性をどのようにして算出しているのか)
- AND検索やOR検索をどのようにして実現しているのか

といった疑問が挙げられます。

このような情報検索に関するトピックに強い興味が湧いたので、あえてツールには頼らずスクラッチ実装することにしました。以下はリポジトリになります

https://github.com/YadaYuki/omochi/

# 2.デモ

# 3.転置インデックス型・全文検索エンジンOmochi

# 4.技術選定・アーキテクチャ
## 4.1 Omochiの技術選定
## 4.2 DDD * Layered Architecture.

# 5.インデクシング機能の実装

## 5.1 インデクシング
## 5.2 文書のトークナイズ
## 5.3 転置インデックスの作成
## 5.4 転置インデックスの圧縮
## 5.5 登録

# 6.サーチ機能の実装

## 6.1 サーチ
## 6.2 圧縮済み転置インデックスの取得
## 6.3 ドキュメントの取得
## 6.4 検索結果の並び替え

# 7.まとめ


