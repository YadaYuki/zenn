---
title: "Nand2tetrisã‚’å®Ÿè£…ã™ã‚‹  ~ãƒãƒ¼ãƒ‰ã‚¦ã‚§ã‚¢ç·¨(1 ~ 5ç« )~"
emoji: "ğŸ˜º"
type: "tech" # tech: æŠ€è¡“è¨˜äº‹ / idea: ã‚¢ã‚¤ãƒ‡ã‚¢
topics: ["nand2tetris","cpu"]
published: false
---
# Nand2tetrisã‚’å®Ÿè£…ã™ã‚‹ãƒ»ç›®æ¬¡ 
1. **Nand2tetrisã‚’å®Ÿè£…ã™ã‚‹  ~ ãƒãƒ¼ãƒ‰ã‚¦ã‚§ã‚¢ç·¨(1 ~ 5ç« ) ~**
2. Nand2tetrisã‚’Golangã§å®Ÿè£…ã™ã‚‹ ~ ã‚¢ã‚»ãƒ³ãƒ–ãƒ©ç·¨(6ç« ) ~ (åŸ·ç­†ä¸­)
3. Nand2tetrisã‚’Golangã§å®Ÿè£…ã™ã‚‹ ~ ä¸­é–“è¨€èªãƒ»Virtual Machineç·¨(7,8ç« ) ~ (åŸ·ç­†ä¸­)
4. Nand2tetrisã‚’Golangã§å®Ÿè£…ã™ã‚‹ ~ ã‚³ãƒ³ãƒ‘ã‚¤ãƒ©ç·¨(10,11ç« ) ~ (åŸ·ç­†ä¸­)

## å¯¾è±¡èª­è€…
- Nand2tetrisã®åå‰ã¯çŸ¥ã£ã¦ãŠã‚Šã€èˆˆå‘³ã¯ã‚ã‚‹ãŒã‚„ã£ãŸã“ã¨ãŒãªã„äºº
- ä½ãƒ¬ã‚¤ãƒ¤ãƒ¼ã‚’å‹‰å¼·ã—ãŸã„ãŒã€ãã®ãã£ã‹ã‘ã‚’ãªã‹ãªã‹æ´ã‚ãªã„äºº

# 1.ã¯ã˜ã‚ã«

**ã€Œã‚³ãƒ³ãƒ”ãƒ¥ãƒ¼ã‚¿ã®ä¸­ã§ã¯ä½•ãŒèµ·ã“ã£ã¦ã„ã‚‹ã®ã‹ï¼Ÿã€**
 
è¿‘å¹´ã€ã‚½ãƒ•ãƒˆã‚¦ã‚§ã‚¢é–‹ç™ºã‚’å–ã‚Šå·»ãæŠ€è¡“ã¯æ€¥é€Ÿã«ç™ºå±•ã—ã€ã»ã¨ã‚“ã©ã®äººã«ã¨ã£ã¦ã€ã‚³ãƒ³ãƒ”ãƒ¥ãƒ¼ã‚¿ã®å†…éƒ¨æ§‹é€ ã¯ãƒ–ãƒ©ãƒƒã‚¯ãƒœãƒƒã‚¯ã‚¹åŒ–ã—ã¦ã„ã‚‹ã®ã§ã¯ãªã„ã§ã—ã‚‡ã†ã‹ã€‚ã‹ãã„ã†ç§ã‚‚ãã®ä¸€äººã€‚ã‚³ãƒ³ãƒ”ãƒ¥ãƒ¼ã‚¿ã®å†…éƒ¨æ§‹é€ ã‚’çŸ¥ã‚‰ãšã¨ã‚‚ã€ã€ŒæŠ€è¡“ã®ä½¿ã„æ–¹ã€ã•ãˆçŸ¥ã£ã¦ã„ã‚Œã°ã€ãƒ—ãƒ­ãƒ€ã‚¯ã‚·ãƒ§ãƒ³ãƒ¬ãƒ™ãƒ«ã®ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ãŒå®Ÿè£…ã§ãã¦ã—ã¾ã†æ™‚ä»£ã§ã™ã€‚

ã—ã‹ã—ã€ä»®ã«ã‚‚ã‚½ãƒ•ãƒˆã‚¦ã‚§ã‚¢ã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢ã‚’åä¹—ã‚‹ã®ã§ã‚ã‚Œã°ã€åŸºæœ¬çš„ãªæ§‹é€ ãã‚‰ã„ã¯ç†è§£ã—ã¦ãŠããŸã„ã‚‚ã®ã€‚ãã†æ€ã£ãŸç§ã¯ã€æ›¸ç±ã€Œã‚³ãƒ³ãƒ”ãƒ¥ãƒ¼ã‚¿ã‚·ã‚¹ãƒ†ãƒ ã®ç†è«–ã¨å®Ÿè£…ã€ãŒæä¾›ã™ã‚‹Nand2tetrisã¨ã„ã†ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã«å–ã‚Šçµ„ã¿ã¾ã—ãŸã€‚ä»¥ä¸‹ã¯å®Ÿè£…ã—ãŸãƒªãƒã‚¸ãƒˆãƒªã§ã™ã€‚

https://github.com/YadaYuki/nand2tetris-golang

ãã—ã¦ã€æœ¬è¨˜äº‹ã¯ã€Œã‚³ãƒ³ãƒ”ãƒ¥ãƒ¼ã‚¿ã‚·ã‚¹ãƒ†ãƒ ã®ç†è«–ã¨å®Ÿè£…ã€ã®1ç« ã‹ã‚‰5ç« ã«è©²å½“ã™ã‚‹ãƒãƒ¼ãƒ‰ã‚¦ã‚§ã‚¢ç·¨ã®å®Ÿè£…ã«é–¢ã™ã‚‹è¨˜äº‹ã§ã™ã€‚

# 2.ã‚³ãƒ³ãƒ”ãƒ¥ãƒ¼ã‚¿ã‚·ã‚¹ãƒ†ãƒ ã®ç†è«–ã¨å®Ÿè£…(Nand2tetris)

æœ¬ç« ã§ã¯ã€Œã‚³ãƒ³ãƒ”ãƒ¥ãƒ¼ã‚¿ã‚·ã‚¹ãƒ†ãƒ ã®ç†è«–ã¨å®Ÿè£…ã€ã¨ã„ã†æ›¸ç±ã€ã¾ãŸãã®æ›¸ç±ãŒæä¾›ã™ã‚‹ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã§ã‚ã‚‹Nand2tetrisã«ã¤ã„ã¦ç°¡å˜ã«èª¬æ˜ã—ã¦ã„ãã¾ã™ã€‚

https://www.oreilly.co.jp/books/9784873117126/

æœ¬æ›¸ã®ç›®çš„ã¯ã‚³ãƒ³ãƒ”ãƒ¥ãƒ¼ã‚¿ã‚·ã‚¹ãƒ†ãƒ ã‚’å®Ÿéš›ã«ä½œã‚Šã€ãã®ä½œæ¥­ã‚’é€šã—ã¦ã€ã‚³ãƒ³ãƒ”ãƒ¥ãƒ¼ã‚¿ã‚·ã‚¹ãƒ†ãƒ ã‚’æ·±ãç†è§£ã™ã‚‹ã“ã¨ã€‚Nand2tetrisã¨ã„ã†ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆåã¯NANDã‚²ãƒ¼ãƒˆã‚’æœ€å°ç´ å­ã¨ã—ã¦ã€æ©Ÿæ¢°èªãŒå‹•ä½œã™ã‚‹ã‚ˆã†ãªãƒãƒ¼ãƒ‰ã‚¦ã‚§ã‚¢ã‚’æ§‹ç¯‰ã—ã€ã‚¢ã‚»ãƒ³ãƒ–ãƒ©ã‚„ã‚³ãƒ³ãƒ‘ã‚¤ãƒ©ã‚’å®Ÿè£…ã—ã€æœ€çµ‚çš„ã«ã¯ãƒ†ãƒˆãƒªã‚¹ãŒå‹•ä½œã™ã‚‹ã‚ˆã†ãªã‚³ãƒ³ãƒ”ãƒ¥ãƒ¼ã‚¿ã‚’æ§‹ç¯‰ã™ã‚‹ã¨ã„ã†ç‰¹å¾´ã‹ã‚‰åä»˜ã‘ã‚‰ã‚Œã¦ã„ã¾ã™ã€‚

ãã—ã¦ã€æœ¬è¨˜äº‹ã§ç´¹ä»‹ã™ã‚‹ãƒãƒ¼ãƒ‰ã‚¦ã‚§ã‚¢ç·¨ã§ã¯ã€NANDã‚²ãƒ¼ãƒˆãƒ»Dãƒ•ãƒªãƒƒãƒ—ãƒ•ãƒ­ãƒƒãƒ—ã¨ã„ã£ãŸã‚·ãƒ³ãƒ—ãƒ«ã§å˜ç´”ãªå›è·¯ã‚’çµ„ã¿åˆã‚ã›ã¦ã€CPUã‚„ALUã¨ã„ã£ãŸè¤‡é›‘ãªå›è·¯ã‚’ãƒœãƒˆãƒ ã‚¢ãƒƒãƒ—ã«æ§‹ç¯‰ã—ã¦ã„ãã€æœ€çµ‚çš„ã«ã¯æ©Ÿæ¢°èªãŒå‹•ä½œã™ã‚‹ã‚ˆã†ãªãƒã‚¤ãƒãƒ³å‹ã‚³ãƒ³ãƒ”ãƒ¥ãƒ¼ã‚¿ã®å®Ÿè£…ã‚’è¡Œã„ã¾ã™ã€‚ãã®è©³ç´°ã«ã¤ã„ã¦ã€ä»¥ä¸‹ã«èª¬æ˜ã—ã¦ã„ãã¾ã™ã€‚

# 3.ãƒãƒ¼ãƒ‰ã‚¦ã‚§ã‚¢ç·¨(1 ~ 5ç« )

## 3.1.ãƒãƒ¼ãƒ‰ã‚¦ã‚§ã‚¢è¨˜è¿°è¨€èª(HDL)

ã•ã¦ã€ãã‚Œã§ã¯ã“ã“ã‹ã‚‰ã€ãƒãƒ¼ãƒ‰ã‚¦ã‚§ã‚¢ã‚’å®Ÿè£…ã—ã¦ã„ãã‚ã‘ã§ã™ãŒã€å®Ÿè£…ã™ã‚‹éš›ã¯å®Ÿç‰©ã®å›è·¯ã‚’å°ç·šã§ç¹‹ãã€çµ„ã¿ç«‹ã¦ã¦ã„ãã‚ã‘ã§ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚

ãƒ‡ã‚¸ã‚¿ãƒ«å›è·¯ã®è¨­è¨ˆã‚’ã™ã‚‹éš›ã«ç”¨ã„ã‚‰ã‚Œã‚‹ã€ãƒãƒ¼ãƒ‰ã‚¦ã‚§ã‚¢è¨˜è¿°è¨€èª(HDL)ã‚’ä½¿ã£ã¦ã€å›è·¯ã®è¨­è¨ˆãƒ»æ§‹æˆã‚’è¨˜è¿°ã—ã¾ã™ã€‚ä»¥ä¸‹ã¯Nand2tetrisãŒæä¾›ã™ã‚‹HDLã®æ–‡æ³•ã§ã™(ANDã‚²ãƒ¼ãƒˆã®å®Ÿè£…)ã€‚

```
CHIP And {
    IN a, b;
    OUT out;
    PARTS:
    Nand (a=a,b=b,out=out1);
    Not(in=out1,out=out);
}
```

ãã—ã¦ã€ä¸€èˆ¬çš„ãªHDLã¨åŒæ§˜ã€å›è·¯ã«å¯¾ã™ã‚‹ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚¿ãƒ¼ã‚‚ã€Nand2tetrisã®å…¬å¼ã‚µã‚¤ãƒˆã§æä¾›ã•ã‚Œã¦ã„ã¾ã™.ã“ã‚Œã«ã‚ˆã£ã¦ã€è‡ªåˆ†ãŒå®Ÿè£…ã—ãŸå›è·¯ãŒæ„å›³ã—ãŸå‹•ä½œã‚’ã™ã‚‹ã‹ã©ã†ã‹ã‚’æ¤œè¨¼ã™ã‚‹ã“ã¨ãŒå¯èƒ½ã§ã™ã€‚ã“ã®ã‚ˆã†ãªé–‹ç™ºç’°å¢ƒã§ãƒãƒ¼ãƒ‰ã‚¦ã‚§ã‚¢ã®å®Ÿè£…ã«å–ã‚Šçµ„ã‚“ã§ã„ãã¾ã—ãŸã€‚

## 3.3.çµ„ã¿åˆã‚ã›å›è·¯ã®å®Ÿè£…

ãã‚Œã§ã¯æ—©é€Ÿã€å›è·¯ã®å®Ÿè£…ã«å–ã‚Šçµ„ã‚“ã§ã„ãã¾ã—ã‚‡ã†ã€‚ã¨ã„ã£ã¦ã‚‚ã€ã„ããªã‚ŠCPUã‚„ã‚³ãƒ³ãƒ”ãƒ¥ãƒ¼ã‚¿ã¨ã„ã£ãŸè¤‡é›‘ãªå›è·¯ã®æ§‹ç¯‰ã‚’è¡Œã†ã‚ã‘ã§ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚ã¾ãšã¯ãƒ•ã‚¡ãƒ¼ã‚¹ãƒˆã‚¹ãƒ†ãƒƒãƒ—ã¨ã—ã¦ã€Nandã‚²ãƒ¼ãƒˆã‚’é…ç·šã—ã€ORã‚„ANDã¨ã„ã£ãŸæ¯”è¼ƒçš„ã‚·ãƒ³ãƒ—ãƒ«ãªçµ„ã¿åˆã‚ã›å›è·¯ã‚’å®Ÿè£…ã—ã¦ã„ãã¾ã™ã€‚

ã•ã¦ã€å…·ä½“çš„ãªå®Ÿè£…ã«ç§»ã£ã¦ã„ãå‰ã«ã€ãã‚‚ãã‚‚ã€Œçµ„ã¿åˆã‚ã›å›è·¯ã€ã¨ã¯ãªã‚“ã§ã—ã‚‡ã†ã‹ï¼Ÿ  
çµ„ã¿åˆã‚ã›å›è·¯ã¨ã¯ä¸€è¨€ã§è¨€ã†ã¨ã€ã€ŒçŠ¶æ…‹ã‚’æŒãŸãšã€å…¥åŠ›ã«ã‚ˆã£ã¦ã®ã¿ã€å‡ºåŠ›ãŒæ±ºã¾ã‚‹å›è·¯ã€ã§ã™ã€‚ä¾‹ã¨ã—ã¦ã¯ã€AND,ORã¨ã„ã£ãŸåŸºæœ¬çš„ãªè«–ç†å›è·¯ã€åŠ ç®—å™¨ã‚„ãƒãƒ«ãƒãƒ—ãƒ¬ã‚¯ã‚µã¨ã„ã£ãŸå›è·¯ã‚‚ã€ŒçŠ¶æ…‹ã‚’æŒãŸãšã€å…¥åŠ›ã«ã‚ˆã£ã¦ã®ã¿å‡ºåŠ›ãŒæ±ºã¾ã‚‹ã€ã¨ã„ã†æ¡ä»¶ã‚’æº€ãŸã—ã¦ã„ã‚‹ãŸã‚ã€çµ„ã¿åˆã‚ã›å›è·¯ã«å½“ãŸã‚Šã¾ã™ã€‚

ãã—ã¦ã€å½“ç„¶ã§ã™ãŒã€Nandã‚²ãƒ¼ãƒˆè‡ªèº«ã‚‚ã€ŒçŠ¶æ…‹ã‚’æŒãŸãšã€å…¥åŠ›ã«ã‚ˆã£ã¦ã®ã¿ã€å‡ºåŠ›ãŒæ±ºã¾ã‚‹å›è·¯ã€ã¨ã„ã†æ¡ä»¶ã‚’æº€ãŸã—ã¦ã„ã‚‹ãŸã‚ã€çµ„ã¿åˆã‚ã›å›è·¯ã®ä¸€ã¤ã§ã™ã€‚ã“ã“ã§ã€æœ€å°ç´ å­ã¨ãªã‚‹Nandã‚²ãƒ¼ãƒˆã‚’ç†è§£ã™ã‚‹ãŸã‚ã«ã€å…¥åŠ›ã‚’X,Y,å‡ºåŠ›ã‚’outã¨ã—ãŸä¸‹å›³ã®ã‚ˆã†ãªNandã‚²ãƒ¼ãƒˆã¨ãã®çœŸç†å€¤è¡¨ã‚’è¦‹ã¦ã¿ã¾ã—ã‚‡ã†.

![image](https://user-images.githubusercontent.com/57289763/142960380-0a8d75e9-7d37-46c0-8102-93d523d6c7a7.png)


|  X  |  Y  |  out  |
| :----: | :----: | :----: |
|  0  |  0  |  1  |
|  0  |  1  |  1  |
|  1  |  0  |  1  |
|  1  |  1  |  0  |

ä¸Šã«ç¤ºã™ã‚ˆã†ã«ã€çµ„ã¿åˆã‚ã›å›è·¯ã¯çœŸç†å€¤è¡¨ã«ã‚ˆã£ã¦å…¨ã¦ã®å…¥åŠ›ãƒ‘ã‚¿ãƒ¼ãƒ³ã¨ãã‚Œã«å¯¾ã™ã‚‹å‡ºåŠ›ã‚’ç¤ºã™ã“ã¨ãŒå¯èƒ½ã§ã™ã€‚æœ¬æ›¸ã§ã¯ã€ãƒãƒ¼ãƒ‰ã‚¦ã‚§ã‚¢å®Ÿè£…ã®ãƒ•ã‚¡ãƒ¼ã‚¹ãƒˆã‚¹ãƒ†ãƒƒãƒ—ã¨ã—ã¦ã€ä¸Šã®å›³ã«ç¤ºã—ãŸæ§˜ãªNandã‚²ãƒ¼ãƒˆã‹ã‚‰ã€è¤‡æ•°ã®çµ„ã¿åˆã‚ã›å›è·¯ã®å®Ÿè£…ã«å–ã‚Šçµ„ã¿ã¾ã—ãŸã€‚

ã“ã“ã§ã¯ä¸€ä¾‹ã¨ã—ã¦ã€Nandã‚²ãƒ¼ãƒˆã¨Notã‚²ãƒ¼ãƒˆ(ã™ã§ã«å®Ÿè£…æ¸ˆã¿ã¨æƒ³å®š)ã«ã‚ˆã‚‹Andã‚²ãƒ¼ãƒˆã®å®Ÿè£…ã‚’è¦‹ã¦ã¿ã¾ã—ã‚‡ã†ã€‚

```
CHIP And {
    IN a, b;
    OUT out;
    PARTS:
    Nand (a=a,b=b,out=out1); 
    Not(in=out1,out=out); // Nandã‚²ãƒ¼ãƒˆã®å‡ºåŠ›out1ã‚’åè»¢ã•ã›ã‚‹ã€‚
}
```

Andã‚²ãƒ¼ãƒˆã¯Nandã‚²ãƒ¼ãƒˆã®å‡ºåŠ›ã®è£œé›†åˆãªã®ã§ã€Nandã‚²ãƒ¼ãƒˆã®å‡ºåŠ›out1ã‚’Notã§åè»¢ã•ã›ã‚‹ã“ã¨ã«ã‚ˆã£ã¦ã€å®Ÿè£…ã™ã‚‹ã“ã¨ãŒå¯èƒ½ã§ã™ã€‚

ã“ã®ã‚ˆã†ã«ã—ã¦ã€Nandã‚²ãƒ¼ãƒˆã‚’æœ€å°ç´ å­ã¨ã—ãŸçµ„ã¿åˆã‚ã›å›è·¯ã®å®Ÿè£…ã«å–ã‚Šçµ„ã¿ã¾ã—ãŸã€‚å®Ÿè£…ã—ãŸçµ„ã¿åˆã‚ã›å›è·¯ã¯ä»¥ä¸‹ã®é€šã‚Šã§ã™ã€‚

- 

ãã‚Œãã‚Œã®å®Ÿè£…ã®è©³ç´°ã«ã¤ã„ã¦ã¯ã€é•·ããªã‚‹ã®ã§ã“ã“ã§ã¯è§¦ã‚Œã¾ã›ã‚“ãŒã€èˆˆå‘³ãŒã‚ã‚‹æ–¹ã¯ã€ãƒªãƒã‚¸ãƒˆãƒªã®[nand2tetris/hardware/logic_circuit]()ä»¥ä¸‹ã®HDLãƒ•ã‚¡ã‚¤ãƒ«(*.hdl)ã‚’è¦‹ã¦ã¿ã¦ãã ã•ã„ã€‚

## 3.4.ALU(ç®—è¡“è«–ç†æ¼”ç®—å™¨)ã®å®Ÿè£…

å‰ç« ã§ã¯è¤‡æ•°ã®çµ„ã¿åˆã‚ã›å›è·¯ã‚’å®Ÿè£…ã—ã¾ã—ãŸã€‚ãã—ã¦æœ¬ç« ã§ã¯ã€çµ„ã¿åˆã‚ã›å›è·¯ã®é›†å¤§æˆã¨ã‚‚è¨€ãˆã‚‹ç®—è¡“è«–ç†æ¼”ç®—å™¨ãƒ»ALUã®å®Ÿè£…ã‚’è¡Œã„ã¾ã™ã€‚

ã•ã¦ã€ãã‚‚ãã‚‚ALUã¨ã¯ãªã‚“ã§ã—ã‚‡ã†ã‹ï¼Ÿ
æ›¸ç±ã€Œã‚³ãƒ³ãƒ”ãƒ¥ãƒ¼ã‚¿ã®æ§‹æˆã¨è¨­è¨ˆã€(é€šç§°ãƒ»ãƒ‘ã‚¿ãƒ˜ãƒæœ¬)ã«ã¯æ¬¡ã®ã‚ˆã†ã«è¨˜è¼‰ã•ã‚Œã¦ã„ã¾ã™ã€‚

> ALU(arithmetic logic unit)ã¯ã‚³ãƒ³ãƒ”ãƒ¥ãƒ¼ã‚¿ã®ç­‹è‚‰ã«ã‚ãŸã‚Šã€åŠ ç®—ã‚„æ¸›ç®—ãªã©ã®ç®—è¡“æ¼”ç®—ã‚„ANDã‚„ORãªã©ã®è«–ç†æ¼”ç®—ã‚’è¡Œã†ã‚‚ã®ã§ã‚ã‚‹ã€‚

ãƒ‘ã‚¿ãƒ˜ãƒæœ¬ã®èª¬æ˜ã«ã‚‚ã‚ã‚‹ã¨ãŠã‚Šã€ALUã¯ç®—è¡“æ¼”ç®—ãƒ»è«–ç†æ¼”ç®—ã¨ã„ã£ãŸã€ã‚³ãƒ³ãƒ”ãƒ¥ãƒ¼ã‚¿ã«ãŠã‘ã‚‹ãƒ‡ãƒ¼ã‚¿ã®æ¼”ç®—å‡¦ç†ã‚’è¡Œã†éå¸¸ã«é‡è¦ãªå›è·¯ã§ã™ã€‚

ã“ã“ã§ã€ä»Šå›å®Ÿè£…ã—ãŸALUã«ã¤ã„ã¦ã€éå¸¸ã«ç°¡ç•¥åŒ–ã—ãŸã‚‚ã®ã§ã¯ã‚ã‚Šã¾ã™ãŒã€ã¯ä»¥ä¸‹ã®é€šã‚Šã«ãªã‚Šã¾ã™ã€‚

![image](https://user-images.githubusercontent.com/57289763/142963073-437d9dda-ace1-4b6d-9fef-4cdc75267a60.png)

x,yã¨ã„ã†16bitã®äºŒã¤ã®å…¥åŠ›ã«å¯¾ã—ã¦ã€ã©ã®ã‚ˆã†ãªæ¼”ç®—ã‚’æ–½ã™ã‹ï¼Ÿã¨ã„ã†ã®ã‚’6bitã®ALUæ“ä½œ(zx,nx,zy,ny,f,no)ã«ã‚ˆã£ã¦æ±ºå®šã—ã¦ã„ã¾ã™ã€‚

ãã‚Œã§ã¯ã€HDLã«ã‚ˆã‚‹ALUã®å®Ÿè£…ã‚’è¦‹ã¦ã¿ã¾ã—ã‚‡ã†ã€‚

```
CHIP ALU {
    IN  
        // 16bit input
        x[16], y[16],
        // 6bit ALU operation
        zx, // zero the x input?
        nx, // negate the x input?
        zy, // zero the y input?
        ny, // negate the y input?
        f,  // compute out = x + y (if 1) or x & y (if 0)
        no; // negate the out output?

    OUT 
        out[16], // 16-bit output
        zr, // 1 if (out == 0), 0 otherwise
        ng; // 1 if (out < 0),  0 otherwise

    PARTS:

    // out x
    Mux16(a=x,b=false,sel=zx,out=outzx);
    Not16(in=outzx,out=notoutzx);
    Mux16(a=outzx,b=notoutzx,sel=nx,out=outx);
    // out y
    Mux16(a=y,b=false,sel=zy,out=outzy);
    Not16(in=outzy,out=notoutzy);
    Mux16(a=outzy,b=notoutzy,sel=ny,out=outy);

    // out fx
    Add16(a=outx,b=outy,out=addoutxy); 
    And16(a=outx,b=outy,out=andoutxy); 
    Mux16(a=andoutxy,b=addoutxy,sel=f,out=outfx);

    // out no
    Not16(in=outfx,out=notoutfx);
    Mux16(a=outfx,b=notoutfx,sel=no,out=outval);
    And16(a=outval,b=true,out=out);
    // ng
    IsNegative16(in=outval,out=ng);
    // zr
    Or16Way(in=outval,out=notzr);
    Not(in=notzr,out=zr);
}
```

6bit(zx,nx,zy,ny,f,no)ã®ALUæ“ä½œã‚’è¡¨ã™bitã«å¿œã˜ã¦ã€X,Y ã«å¯¾ã—ã¦é©åˆ‡ãªæ¼”ç®—ã‚’æ–½ã™ã‚ˆã†ãªå®Ÿè£…ãŒã•ã‚Œã¦ã„ã¾ã™ã€‚

ã“ã¡ã‚‰ã«é–¢ã—ã¦ã‚‚å®Ÿè£…ç‰©ãŒãƒªãƒã‚¸ãƒˆãƒªã®[nand2tetris/hardware/logic_circuit]()ä»¥ä¸‹ã«å­˜åœ¨ã™ã‚‹ã®ã§ã€èˆˆå‘³ãŒã‚ã‚‹æ–¹ã¯ãœã²ãƒã‚§ãƒƒã‚¯ã—ã¦ã¿ã¦ãã ã•ã„ã€‚

## 3.5.é †åºå›è·¯ã®å®Ÿè£…

å‰ç« ã¾ã§ã§ã€çµ„ã¿åˆã‚ã›å›è·¯ãŠã‚ˆã³ALUã®å®Ÿè£…ã«å–ã‚Šçµ„ã¿ã¾ã—ãŸã€‚ã“ã“ã¾ã§ã§å®Ÿè£…ã—ãŸå›è·¯ã¯ã‚³ãƒ³ãƒ”ãƒ¥ãƒ¼ã‚¿ã®æ¼”ç®—ã®ã¨ã„ã†é‡è¦ãªå½¹å‰²ã‚’æ‹…ã„ã¾ã™ãŒã€ãã®å‡ºåŠ›ã¯å…¥åŠ›ã«ã®ã¿æ±ºå®šã™ã‚‹ã€ã™ãªã‚ã¡ã€å€¤ã®è¨˜æ†¶ãŒã§ããªã„ã¨ã„ã†é‡å¤§ãªæ¬ ç‚¹ãŒã‚ã‚Šã¾ã™ã€‚



## 3.6.CPU(ä¸­å¤®æ¼”ç®—å‡¦ç†è£…ç½®)ã®å®Ÿè£…

## 3.7.ãƒã‚¤ãƒãƒ³å‹ã‚³ãƒ³ãƒ”ãƒ¥ãƒ¼ã‚¿ã®å®Ÿè£…

## 3.8.æ©Ÿæ¢°èªã‚’å®Ÿè¡Œã™ã‚‹

# 4.æœ€å¾Œã«

# 5.å‚è€ƒæ–‡çŒ®

